@page "/quiz"
@using Microsoft.AspNetCore.Components.Forms
@using QuizApp.Blazor.Services;
@using QuizApp.Shared.Models.Quiz;

<Navbar />

<h1>Quiz Game</h1>

@if(questions == null)
{
    if (loading)
    {
        <h1>Loading...</h1>
    }
    else
    {
        <input @bind="inputValue" />
        <button @onclick="() => GetQuiz(inputValue)">Get Quiz</button>
    }
}
else
{
    if(runGame)
    {
        var question = questions
            .Where(x => x.Id == questionId)
            .FirstOrDefault();

        if(question != null && question.Options != null)
        {
            <h2>@question.Question</h2>
            <ToggleButton Options="question.Options" OnSubmit="(args) => SubmitHandler(args)"/>
        }
    }
    else
    {
        <Result Results="answers" />
    }
}